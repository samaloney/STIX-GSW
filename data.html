
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Data &#8212; STIX-GSW  documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Glossary" href="glossary.html" />
    <link rel="prev" title="Introduction" href="introduction.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="data">
<h1>Data<a class="headerlink" href="#data" title="Permalink to this headline">¶</a></h1>
<div class="section" id="levels-levels-levels">
<h2>Levels, Levels, Levels<a class="headerlink" href="#levels-levels-levels" title="Permalink to this headline">¶</a></h2>
<p>The term ‘level’ is used in a number of different and unfortunately often confusing contexts when discussing STIX data.
To describe data levels stored in on-ground archives, data levels and structures transmitted from the spacecraft in <a class="reference internal" href="glossary.html#term-TM"><span class="xref std std-term">TM</span></a> and finally integer compression levels.
At a mission level the <a class="reference internal" href="glossary.html#term-SOLO"><span class="xref std std-term">SOLO</span></a> team has defined and agreed upon a number of levels which specify the type of content and file types as provided to the community:</p>
<ul class="simple">
<li><p>L0 - raw telemetry</p></li>
<li><p>L1 - un-calibrated data</p></li>
<li><p>L2 - calibrated data</p></li>
<li><p>L3 - derived products.</p></li>
</ul>
<p>In addition to these general data levels the type of data and structures sent from STIX to the ground in TM for bulk science data (BSD) also have a number of levels.
These level correspond to how much on-board processing is done:</p>
<ul class="simple">
<li><p>L0 - raw pixel data and triggers from the archive buffer for given time and energy range (no compression)</p></li>
<li><p>L1 - pixel data and triggers compressed,</p></li>
<li><p>L2 - data additionally summed over pixel elements before compression</p></li>
<li><p>L3 - visibilities derived from the summed pixel counts and finally</p></li>
<li><p>L4 - spectrograms see Section</p></li>
</ul>
<p>STIX data in TM may also be compressed and this integer compression
has different compression ratios or as levels described in Section 4.3.</p>
<p>Within this document on-ground data levels will be referred to as L0,
L1, L2, STIX on-board bulk science data (BSD) levels as BSD-L0, BSD-L1,
BSD-L2, BSD-L3, BSD-L4, and where necessary compression levels as
integer compression levels.</p>
<p>Solar Orbiter Data Levels</p>
<p>There are four main categories of <a class="reference internal" href="glossary.html#term-STIX"><span class="xref std std-term">STIX</span></a> data products:</p>
<ol class="arabic simple">
<li><p>Housekeeping (HK)</p></li>
<li><p>Quick Look (QL)</p></li>
<li><p>Bulk Science (BSD)</p></li>
<li><p>Ancillary and Diagnostics</p></li>
</ol>
</div>
<div class="section" id="house-keeping-hk">
<h2>House Keeping (HK)<a class="headerlink" href="#house-keeping-hk" title="Permalink to this headline">¶</a></h2>
<p>House keeping date are</p>
</div>
<div class="section" id="quick-look">
<h2>Quick Look<a class="headerlink" href="#quick-look" title="Permalink to this headline">¶</a></h2>
<p>Quick look data are low resolution (time and energy) X-ray data products designed</p>
<div class="section" id="light-curves">
<h3>Light Curves<a class="headerlink" href="#light-curves" title="Permalink to this headline">¶</a></h3>
<p>X-ray flux in five energy bin every 4 seconds</p>
</div>
<div class="section" id="background">
<h3>Background<a class="headerlink" href="#background" title="Permalink to this headline">¶</a></h3>
<p>X-ray flux from the background monitor in five energy bin every 4 seconds</p>
</div>
<div class="section" id="variance">
<h3>Variance<a class="headerlink" href="#variance" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="spectra">
<h3>Spectra<a class="headerlink" href="#spectra" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="bulk-science-data">
<h2>Bulk Science Data<a class="headerlink" href="#bulk-science-data" title="Permalink to this headline">¶</a></h2>
<p>Pixel Data</p>
<p>Visibilities</p>
<p>Spectrogram</p>
</div>
<div class="section" id="data-levels">
<h2>Data Levels<a class="headerlink" href="#data-levels" title="Permalink to this headline">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 9%" />
<col style="width: 91%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Level</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>L0</p></td>
<td><p>Raw <a class="reference internal" href="glossary.html#term-TM"><span class="xref std std-term">TM</span></a> contain only information that was available in the
packets (times are OBT/SCET, temperatures/voltages in ADC channels)</p></td>
</tr>
<tr class="row-odd"><td><p>L1</p></td>
<td><p>Engineering data, uncalibrated FITS metadata follows Solar Orbiter
standard for L1 (see section 3.</p></td>
</tr>
<tr class="row-even"><td><p>L2</p></td>
<td><p>Calibrated data, science quality FITS, metadata follows Solar Orbiter
standard for L2 full attitude information
in WCS coordinate frame and time in UTC.</p></td>
</tr>
<tr class="row-odd"><td><p>L3</p></td>
<td><p>Higher-level data Data format as appropriate (The format of both
Level-3 data and Calibration data can be chosen depending on the
type of data product and the objectives. However, as much as possible
standard formats should be used (MPEG, FITS, JPEG2000, CDF, PNG, …)</p></td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<p>BSD levels define to the on-board processing and data structures which
are sent to the ground via TM. BSD-L0 is the most raw form of STIX data
it is essentially a dump of the archive buffer between the given times
and energy channels. L1 data is processed on-board applying integer
compression to the pixel counts and triggers as well as removal of empty
time energy bins. L2 data is further summed on-board, summing 12 pixels
to 4 summed pixels per detector, these summed counts and triggers are
also integer compressed. L3 data convert the summed pixel counts into
complex visibilities. Finally L4 data, or spectrograms, are summed over
all pixels and detectors ….</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11%" />
<col style="width: 39%" />
<col style="width: 49%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Level</p></th>
<th class="head"><p>Data Type</p></th>
<th class="head"><p>Format and Metadata content</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>L0</p></td>
<td><p>Pixel Data, Triggers</p></td>
<td><p>Raw archive buffer data,
no compression of counts</p></td>
</tr>
<tr class="row-odd"><td><p>L1</p></td>
<td><p>Pixel Data, Triggers</p></td>
<td><p>Triggers and pixel counts
compressed</p></td>
</tr>
<tr class="row-even"><td><p>L2</p></td>
<td><p>Summed Pixel Data,
Triggers</p></td>
<td><p>Summed pixel counts and
triggers compressed</p></td>
</tr>
<tr class="row-odd"><td><p>L3</p></td>
<td><p>Visibilities</p></td>
<td><p>Visibilities derived from the
summed pixel counts</p></td>
</tr>
<tr class="row-even"><td><p>L4</p></td>
<td><p>Spectrogram</p></td>
<td><p>All detectors summed</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="stix-level-0-to-stix-level-1-products">
<h2>STIX Level 0 to STIX Level 1 Products<a class="headerlink" href="#stix-level-0-to-stix-level-1-products" title="Permalink to this headline">¶</a></h2>
<p>Create database of the TM which is minimally processed</p>
<ul class="simple">
<li><p>Decompress</p></li>
<li><p>Bit masks converted to binary mask arrays</p></li>
<li><p>Onboard time converted to UTC</p></li>
<li><p>Physical quantities added (keV, counts/s etc)</p></li>
</ul>
<p>All quick look data are stored in two types of structures control and
data. Control structures contain information necessary to extract the
data from TM such as compression scheme parameters and information to
interpret the data such as integration time as well as other common
information.</p>
<p>Control</p>
<p>Data</p>
<p>Control</p>
<p>Data</p>
<p>Control</p>
<p>Data</p>
<p>Control</p>
<p>Data</p>
<p>Control</p>
<p>Data</p>
<p>TBD</p>
<p>TBD</p>
<p>TBD</p>
<p>??</p>
<p>All quick look data are processed in a similar way the level 0 FITS
files are read and processed for each type of quick look the control
structures above are populated and the data structures are replicated
the required number of times and then filled with the data from the TM.
These two structures are then written as binary table extension to FITS
aligned with UTC days</p>
<p>Block size for observation align with mode (it is foreseen that we will
not stay in nominal mode 24h at a time and then go back to safe). Since
these will be more human facing might make sense to align to UTC day
rather than space craft</p>
<ul class="simple">
<li><p>How we plan to use the generated FITS files with existing software</p></li>
<li></li>
</ul>
</div>
<div class="section" id="stix-level-1-to-stix-level-2-products">
<h2>STIX Level 1 to STIX Level 2 Products<a class="headerlink" href="#stix-level-1-to-stix-level-2-products" title="Permalink to this headline">¶</a></h2>
<p>Calibrated data ready for scientific use. In general, ‘analog’
corrections will use fixed parameters, whose off-line calculation will
be externally provided and will assume that all detectors are the same.
Energy averages will use the broad QL energy bands, assuming a fixed but
quasi-realistic spectral shape. The numerical values of these
corrections will be documented.</p>
<p>Since all corrections are linear and known (for a given digital state)
they can be readily and accurately reversed to support alternate
interpretations of the output.</p>
<p>As in Level 1 all Level 2 quick look data are stored in two types of
structures control and data.</p>
<p>Again a common structure mapping channel to energy is included as the
second extension</p>
<p>The correction factors applied to go from Level 1 to Level 2 are
included in the control structure.</p>
<p>3.1 Light curves</p>
<p>3.1.1 Description</p>
<p>The output will be labeled as ‘normalized counts/cm2/second’.</p>
<p>Corrections will be made for:</p>
<ul class="simple">
<li><p>number of active detectors</p></li>
<li><p>number of disabled pixels</p></li>
<li><p>nominal, detector-averaged photopeak efficiency, averaged over each</p></li>
</ul>
<p>broad QL energy band.</p>
<ul class="simple">
<li><p>detector-averaged grid transmission, averaged over each broad QL</p></li>
</ul>
<p>energy band</p>
<ul class="simple">
<li><p>window transmission, averaged over each broad QL energy band</p></li>
<li><p>attenuator transmission, averaged over each broad QL energy band</p></li>
<li><p>detector-averaged live time.</p></li>
</ul>
<p>No correction will be made for:</p>
<ul class="simple">
<li><p>off-diagonal energy response.</p></li>
<li><p>background.</p></li>
</ul>
<p>LC values in each energy band are roughly equivalent to photons/cm/s
when flux dominates background.</p>
<p>3.1.2 Structure</p>
<p>Data</p>
<p>3.2 Background Monitor</p>
<p>3.2.1 Description</p>
<p>There are two interpretations of the pixel-summed output of the
background detector: one is that for low or zero solar flux, it
represents background in 0.81 cm<sup>2</sup> of detector; alternatively,
for high flux data (even with attenuator IN) it represents the
unattenuated flux as seen with a detector of area 0.022 cm2
(corresponding to the apertures in the rear BKGD grid). Output will be
provided to support both interpretations. The user will choose which, if
either, limiting case applies for a given time/energy.</p>
<p>(Analysis of the bulk science data will enable both to be correctly
determined simultaneously.)</p>
<p>Background data will be normalized so that in the absence of solar flux
it should numerically match the light curve output. It can be labeled as
‘Low flux-equivalent background [photons/cm2/second]’.</p>
<p>Similarly the flux interpretation output can be labeled as ‘High flux
estimated photons/cm2/second’.</p>
<p>For the background interpretation, corrections will be made for:</p>
<p>Corrections will be made for:</p>
<p>Level 1 fits files are read, and the corrections for live time and
analog correction factors are applied.</p>
<p>In order to be in agreement with the HEASARC recommendation, the primary
data array is left empty. The first extension header contains the
lightcurve structure definition and the first extension data array the
lightcurve data. The second extension header contains the energy axis
structure definition and the second extension data array the actual
energy axis data. The third contains the control structure.</p>
<p>Block size for observation align with mode (it is foreseen that we will
not stay in nominal mode 24h at a time and then go back to safe).</p>
<div class="math notranslate nohighlight">
\[C\  = \frac{N_{\text{ActiveDetectors}}}{32}\]</div>
<div class="math notranslate nohighlight">
\[\mathbf{C\  =}\frac{\mathbf{N}_{\mathbf{\text{LP\ }}}\mathbf{A}_{\mathbf{\text{LP}}}\mathbf{+}\mathbf{N}_{\mathbf{\text{SP\ }}}\mathbf{A}_{\mathbf{\text{SP}}}}{\mathbf{A}_{\mathbf{D}}}\]</div>
<p>Where N<sub>LP</sub> and N<sub>SP</sub> are the numbers of enabled large and
small pixels respectively, A<sub>LP</sub> and A<sub>SP</sub> are the areas
of large and small pixels and A<sub>D</sub></p>
<p>The detector efficiency is estimated using the IDL procedure
stx_build_drm.</p>
<p>efficiency factor :</p>
<p>[9.21, 1.97, 1.30, 1.31, 1.24]</p>
<p>Grid transmission is estimated assuming a slit faction of 25% and 0.04
cm of tungsten</p>
<p>grid factor:</p>
<p>[4.00, 4.00, 4.00, 4.00, 3.73]</p>
<p>Background grid transmission is estimated assuming an aperture of 0.022
cm<sup>2</sup> and 0.04 cm of tungsten.</p>
<p>background grid factor:</p>
<p>[36.82, 36.82, 36.82, 36.82, 19.85]</p>
<p>Window transmission is estimated assuming and 0.35 cm of beryllium</p>
<p>window factor:</p>
<p>[12.80, 2.06, 1.29, 1.15, 1.10]</p>
<p>Attenuator transmission is estimated assuming and 0.06 cm of aluminum</p>
<p>attenuator factor:</p>
<p>[1.72e+07, 7.39e+02, 9.07e+00, 1.70e+00, 1.06e+00]</p>
<div class="math notranslate nohighlight">
\[N_{\text{in}} = \frac{N_{\text{average\ triggers}}}{\ \left( 1 - \ N_{\text{average\ triggers}}\tau \right)}\]</div>
<div class="math notranslate nohighlight">
\[Lt = \ \frac{exp( - \ \eta\text{\ N}_{\text{in}})}{\ \left( 1 - \ \text{\ N}_{\text{in}}\tau \right)}\]</div>
<div class="math notranslate nohighlight">
\[N_{\text{in}} = \frac{N_{\text{detector\ triggers}}}{\ \left( 1 - \ N_{\text{detector\ triggers}}\tau \right)}\]</div>
<div class="math notranslate nohighlight">
\[Lt = \ \frac{exp( - \ \eta\text{\ N}_{\text{in}})}{\ \left( 1 - \ \text{\ N}_{\text{in}}\tau \right)}\]</div>
<ul class="simple">
<li><p>Do all (HK, QL, bulk science) have a level 2?</p></li>
</ul>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">STIX-GSW</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#levels-levels-levels">Levels, Levels, Levels</a></li>
<li class="toctree-l2"><a class="reference internal" href="#house-keeping-hk">House Keeping (HK)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#quick-look">Quick Look</a></li>
<li class="toctree-l2"><a class="reference internal" href="#bulk-science-data">Bulk Science Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#data-levels">Data Levels</a></li>
<li class="toctree-l2"><a class="reference internal" href="#stix-level-0-to-stix-level-1-products">STIX Level 0 to STIX Level 1 Products</a></li>
<li class="toctree-l2"><a class="reference internal" href="#stix-level-1-to-stix-level-2-products">STIX Level 1 to STIX Level 2 Products</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="introduction.html" title="previous chapter">Introduction</a></li>
      <li>Next: <a href="glossary.html" title="next chapter">Glossary</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, STIX Team.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.2.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/data.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>